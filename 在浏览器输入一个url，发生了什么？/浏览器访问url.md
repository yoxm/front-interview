# 浏览器访问 Url

## Chrome 访问 url

## 查看缓存

## 组装 http 报文

## 识别 url

完整的 url 是由 协议 域名 文件路径组成的。但是只输入了 baidu.com，这时候需要 ARP 广播。

1.  查看本地 hosts 文件

    本地 hosts 文件存于用户目录下

2.  询问本地域名服务器

    本地域名服务器向根域名服务器查看 com=>baidu=>www 这三级域名的不同 ip 地址，此时浏览器等待

3.  询问根域名服务器

    根域名根据上面的顺序查找 ip 地址，然后返回给本地域名服务器。

4.  根据 ip 地址访问服务器

    访问服务器后，第一次访问页面需要发送确认页面，之后根据缓存直接访问找到的 ip 地址，直接访问。

## 访问服务器

TCP 的三层协议

* SYN=1 Seq=X
* SYN=1 ACK=X+1 Seq=Y
* ACK=Y+1 Seq=z

## HTTP 服务器处理

关闭连接，查看响应头：如果可以缓存，那么进行缓存，之后解码，

## 浏览器接受返回值

当服务器提供了资源之后（HTML，CSS，JS，图片等），浏览器会执行下面的操作：

* 解析 —— HTML，CSS，JS
* 渲染 —— 构建 DOM 树 -> 渲染 -> 布局 -> 绘制
